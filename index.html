<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Xebia - Mois Du JS</title>

    <link rel="stylesheet" href="node_modules/bootstrap/dist/css/bootstrap.css"/>
    <link rel="import" href="slot-form/x-slot-form.html">
    <link rel="import" href="slot-grid/x-slot-grid.html">

    <style>
        .container {
            margin-top: 50px;
        }
    </style>
</head>

<body>
<div class="container">
    <div class="row">
        <div class="col-md-7">
            <x-slot-grid></x-slot-grid>
        </div>
        <div class="col-md-4 col-md-offset-1">
            <x-slot-form></x-slot-form>
        </div>
    </div>
</div>

<script>
    const slots = {
        1: [
            "npm: le couteau suisse d'un projet JS",
            "Gérer ses dépendances dans le code grâce à JSPM",
            "Webpack pour les packager tous, et dans le code les lier."
        ],
        2: [],
        3: [],
        4: []
    };
    const grid = document.querySelector('x-slot-grid');
    grid.onDataChanged(slots);

    document
            .querySelector('x-slot-form')
            .addEventListener('add-slot', function (event) {
                slots[event.detail.slot].push(event.detail.name);
                grid.setAttribute('data', JSON.stringify(slots));
            }, true);
</script>
</body>

</html>
